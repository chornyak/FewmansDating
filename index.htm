

<html>

    <head>
        <!--

            This is simply a proof of concept that shows it is possible to find similar Fewmans based on traits.
        
            Raw JSON Data: https://gist.github.com/jobez/f436719c5eb0da2ce2f5f78a2c0a62ef/
            This is what feeds the Sorting above.
        
            There are immense areas of improvement but I leave it to much smarter developers than me to take the next step.
        
        -->

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>

        <script type="text/javascript">

        async function fetchFEWson() {
              let resp = await fetch('https://gist.githubusercontent.com/jobez/f436719c5eb0da2ce2f5f78a2c0a62ef/raw/ec8dceeb06bbf067e94c92589a97bb1770dc0e6b/fews_gen0.json');
              const json = await resp.json();
              var Fewmans = objSort(json, 'Body', 'GodsGift','Eyes','Hair','Curse','Sexuality','Intelligence','Career');


              function objSort() {
                  var args = arguments,
                      array = args[0],
                      case_sensitive, keys_length, key, desc, a, b, i;

                  if (typeof arguments[arguments.length - 1] === 'boolean') {
                      case_sensitive = arguments[arguments.length - 1];
                      keys_length = arguments.length - 1;
                  } else {
                      case_sensitive = false;
                      keys_length = arguments.length;
                  }

                  return array.sort(function (obj1, obj2) {
                      for (i = 1; i < keys_length; i++) {
                          key = args[i];
                          if (typeof key !== 'string') {
                              desc = key[1];
                              key = key[0];
                              a = obj1[args[i][0]];
                              b = obj2[args[i][0]];
                          } else {
                              desc = false;
                              a = obj1[args[i]];
                              b = obj2[args[i]];
                          }


                          if (! desc) {
                              if (a < b) return -1;
                              if (a > b) return 1;
                          } else {
                              if (a > b) return -1;
                              if (a < b) return 1;
                          }
                      }
                      return 0;
                  });
              }

              FewmansLight = Fewmans; //Don't destroy original object array, Generate just an ID list
              
              for(var i = 0; i < FewmansLight.length; i++) {
                  delete FewmansLight[i].Body;
                  delete FewmansLight[i].GodsGift;
                  delete FewmansLight[i].Gender;
                  delete FewmansLight[i].Eyes;
                  delete FewmansLight[i].Hair;
                  delete FewmansLight[i].Curse;
                  delete FewmansLight[i].Sexuality;
                  delete FewmansLight[i].Career;
                  delete FewmansLight[i].Intelligence;
              }
              return FewmansLight;
          }


          var FewFewmans;


          function getFewLikeMe(FewID) {

              console.log("Fewid: ", FewID);
              var index = FewFewmans.findIndex(obj => obj.ID===FewID);

              var rmin = index-5;
              var rmax = index+5;
              
              if(rmin < 0)
              {  
                  rmin = 0; 
                  rmax = index+5;
              }
              if(rmax > 9994)
              {
                  rmin = index-5;
                  rmax = 9999;
              }


              const fewDatable = [];
              displayResults.innerHTML = "";

              for(var i = rmin; i < rmax; i++) {

                  var matches = FewFewmans[i].ID;
                  
                  
                  var para = document.createElement("p");
                  para.innerHTML = "<a href=\"https://opensea.io/assets/0xad5f6cdda157694439ef9f6dd409424321c74628/"+matches+"\">"+matches+"</a><br /><br />";
                  document.getElementById("displayResults").appendChild(para);

              }


              return index;
          };
          

          fetchFEWson().then(sortedFewFewmans => {
              console.log("loaded!");
              FewFewmans = sortedFewFewmans   

              
          });


        </script>
    </head>
    <body>
        <center>

            <h1>FewDating App</h1><br />
            <div style="width: 500;">Few have rumored exactly matching stats will breed stars for that stat. Even two average Fewmans can possibly breed more than a few stars if they have multiple trait matches.* 
                
                <br /><br />Find your nearest matches by simply entering your Fewmans ID number. 8 Possible matches (including yours listed in the middle) will be calculated. Due to the sorting your most similar Fewmans might appear entirely before your number or entirely after, be sure to Click all links and compare to see. Gender is excluded from the sorting so opposites can be found or in case same-sex breeding is added.<br /><br />Be warned: Few will put out.</div>
            <br /><br />

            <input type="text" id="mytoken"><button onclick="getFewLikeMe(mytoken.value)">Look Up</button>

            <p id="displayResults">

            </p>

            <div style="width: 500; font-size: 10px;">*Disclaimer: Few effort was put into this, even fewer coding skills. This was not created in association with Fewmans developers. This does not connect to your wallet, it is just a simple sort and search of the raw attributes data. The creator of this does not know any details of how the breeding function works so this is simply a tool based on a hypothesis for those who want to collect Feewmans.</div>


        </center>
    </body>
</html>
